<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ball Pwel</title>

    <!-- Defer Restriction Script to load after the DOM is ready -->
    <script src="../scripts/restriction.js" defer></script>

    <!-- Preload the app icon for faster access -->
    <link rel="icon" type="image/svg+xml" href="../icons/app-logo.png" />

    <!-- Preload the critical font (Roboto) -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
      preload="true"
      as="font"
      type="font/woff2"
    />

    <script>
      (function () {
        const isDark = localStorage.getItem("theme") === "dark";
        if (isDark) {
          document.documentElement.classList.add("dark-mode");
        }
      })();
    </script>

    <!-- Combine and Minify the CSS Files (Preload main CSS) -->
    <link rel="stylesheet" href="../style/ads.css" />
    <link rel="stylesheet" href="../style/general.css" />
    <link rel="stylesheet" href="../style/ball-pwel.css" />
    <link rel="stylesheet" href="../style/navi-bar.css" />
    <link rel="stylesheet" href="../style/threed-general.css" />

    <!-- Inline Script for Popunder Ad - Avoid Redundant Script Load -->
    <script defer>
      (function () {
        const POPUNDER_KEY = "popunderLimit";
        const now = Date.now();
        const lastShown = localStorage.getItem(POPUNDER_KEY);
        const interval = 5 * 60 * 1000; // 5 minutes

        if (!lastShown || now - parseInt(lastShown) > interval) {
          localStorage.setItem(POPUNDER_KEY, now.toString());

          const script = document.createElement("script");
          script.type = "text/javascript";
          script.src =
            "//pl26266530.profitableratecpm.com/72/82/3e/72823ece7d80337c7be0dea41969a1f2.js";
          document.body.appendChild(script);
        }
      })();
    </script>
  </head>

  <body>
    <script
      src="//pl26344876.profitableratecpm.com/d3/14/78/d31478ae1d7c3baf1622f80dd2f273c1.js"
      async
    ></script>

    <!-- Navigation bar -->
    <nav class="navi-bar">
      <a class="home-link" href="../">
        <img src="../icons/back.svg" loading="lazy" />
      </a>
    </nav>

    <!-- Loading page to show while content is loading -->
    <div class="loading-page active">
      <img src="../icons/loading.svg" loading="lazy" /> loading...
    </div>

    <!-- Ads Section -->
    <div class="ads">
      <div id="ad-container"></div>
    </div>

    <!-- Main Content -->
    <h1>Ball-pwel Live</h1>

    <div class="filters">
      <button class="filter-btn active" data-status="all">All</button>
      <button class="filter-btn" data-status="vs">Upcoming</button>
      <button class="filter-btn" data-status="live">Live</button>
      <button class="filter-btn" data-status="finished">Finished</button>
    </div>

    <div class="matches" id="matches"></div>

    <!-- Responsive Ads -->
    <div class="responsive-ad-container">
      <script
        async
        src="https://pl26266554.profitableratecpm.com/02358cbf82787ece2ceaf514d9b6d4f2/invoke.js"
      ></script>
      <div id="container-02358cbf82787ece2ceaf514d9b6d4f2"></div>
    </div>

    <!-- Modal for video player -->
    <div class="modal" id="videoModal">
      <button class="close-btn" onclick="closePlayer()">× Close</button>
      <video id="videoPlayer" controls autoplay></video>
    </div>

    <div class="text-center">
      © <span id="currentYear"></span>. All rights reserved.
    </div>

    <script>
      document.getElementById("currentYear").textContent =
        new Date().getFullYear();
    </script>

    <!-- Defer other essential scripts -->
    <script type="module" src="../scripts/dark-light-toggle.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest" defer></script>
    <script src="../scripts/pwel.js" type="module" defer></script>
    <script src="../scripts/ads/ads.js" defer></script>
    <script>
      window.IPINFO_TOKEN = "82e9d8a31bf7e1";
      window.IPINFO_BASE_URL = "https://ipinfo.io/json?token=";
    </script>
  </body>
</html>
